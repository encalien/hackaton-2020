{"remainingRequest":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/babel-loader/lib/index.js!/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kat/Desktop/hekatin/mojedelo/moje-delo/src/components/Admin/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/src/components/Admin/Admin.vue","mtime":1586094884931},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3RvcmUgZnJvbSAiLi4vLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkbWluIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyUGFnZTogNSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGpvYkFwcGxpY2F0aW9uczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5jaGVja1VzZXJTZXNzaW9uKCk7CiAgICB0aGlzLmpvYkFwcGxpY2F0aW9ucyA9IFN0b3JlLmdldCgiam9iQXBwbGljYXRpb25zIikgfHwgW107CiAgfSwKICBjb21wdXRlZDogewogICAgcm93czogZnVuY3Rpb24gcm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMuam9iQXBwbGljYXRpb25zLmxlbmd0aDsKICAgIH0sCiAgICBjdXJyZW50UGFnZUpvYkFwcGxpY2F0aW9uczogZnVuY3Rpb24gY3VycmVudFBhZ2VKb2JBcHBsaWNhdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmpvYkFwcGxpY2F0aW9ucy5zbGljZSh0aGlzLnBlclBhZ2UgKiAodGhpcy5jdXJyZW50UGFnZSAtIDEpLCB0aGlzLnBlclBhZ2UgKiB0aGlzLmN1cnJlbnRQYWdlKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrVXNlclNlc3Npb246IGZ1bmN0aW9uIGNoZWNrVXNlclNlc3Npb24oKSB7CiAgICAgIHZhciB1c2VyID0gbG9jYWxTdG9yYWdlLmN1cnJlbnRVc2VyID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIpIDogbnVsbDsKCiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgIHZhciBsYXN0TG9nZ2VkSW4gPSB1c2VyLmxhc3RMb2dnZWRJbjsKICAgICAgICB2YXIgbG9naW5FeHBpcmVkID0gbm93IC0gbGFzdExvZ2dlZEluID4gMjQgKiA2MCAqIDYwICogMTAwMDsKCiAgICAgICAgaWYgKCFsb2dpbkV4cGlyZWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJjdXJyZW50VXNlciIpOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgibG9naW4iKTsKICAgIH0sCiAgICBzZXRTY29yZTogZnVuY3Rpb24gc2V0U2NvcmUoam9iQXBwbGljYXRpb24sIHN0YXJOdW1iZXIpIHsKICAgICAgam9iQXBwbGljYXRpb24uc2NvcmUgPSBzdGFyTnVtYmVyOwogICAgICBTdG9yZS5wdXQoImpvYkFwcGxpY2F0aW9ucyIsIGpvYkFwcGxpY2F0aW9uKTsKICAgIH0sCiAgICBjb2xvckNsYXNzOiBmdW5jdGlvbiBjb2xvckNsYXNzKGpvYkFwcGxpY2F0aW9uLCBzdGFyTnVtYmVyKSB7CiAgICAgIGlmIChqb2JBcHBsaWNhdGlvbi5zY29yZSAmJiBqb2JBcHBsaWNhdGlvbi5zY29yZSA+PSBzdGFyTnVtYmVyKSB7CiAgICAgICAgcmV0dXJuICJmdWxsIjsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,OAAA,KAAA,MAAA,aAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,eAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,gBAAA;AACA,SAAA,eAAA,GAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,KAAA,EAAA;AACA,GAZA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,eAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,0BAJA,wCAIA;AACA,aAAA,KAAA,eAAA,CAAA,KAAA,CACA,KAAA,OAAA,IAAA,KAAA,WAAA,GAAA,CAAA,CADA,EAEA,KAAA,OAAA,GAAA,KAAA,WAFA,CAAA;AAIA;AATA,GAbA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,WAAA,CAAA,GAAA,IAAA;;AACA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,YAAA,YAAA,GAAA,IAAA,CAAA,YAAA;AACA,YAAA,YAAA,GAAA,GAAA,GAAA,YAAA,GAAA,KAAA,EAAA,GAAA,EAAA,GAAA,IAAA;;AACA,YAAA,CAAA,YAAA,EAAA;AAAA;AAAA;;AACA,QAAA,YAAA,CAAA,UAAA,CAAA,aAAA;AACA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAXA;AAYA,IAAA,QAZA,oBAYA,cAZA,EAYA,UAZA,EAYA;AACA,MAAA,cAAA,CAAA,KAAA,GAAA,UAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,cAAA;AACA,KAfA;AAgBA,IAAA,UAhBA,sBAgBA,cAhBA,EAgBA,UAhBA,EAgBA;AACA,UAAA,cAAA,CAAA,KAAA,IAAA,cAAA,CAAA,KAAA,IAAA,UAAA,EACA;AACA,eAAA,MAAA;AACA;AACA;AArBA;AAxBA,CAAA","sourcesContent":["<template>\n  <div>\n    <b-row class=\"justify-content-center\" align-v=\"center\">\n      <b-col cols=\"10\">\n        <div class=\"content\">\n          <h4>PREJETE VLOGE</h4>\n\n          <div v-if=\"jobApplications.length == 0\">\n            <p>Za to delovno mesto ni bila oddana Å¡e nobena vloga.</p>\n          </div>\n\n          <div v-else id=\"applications-list\">\n            <div\n              class=\"application-entry\"\n              v-for=\"(jobApp, index) in currentPageJobApplications\"\n              :key=\"`jobApp-${index}`\"\n              :items=\"jobApplications\"\n              :per-page=\"perPage\"\n              :current-page=\"currentPage\">\n\n              <b-row>\n                <b-col cols=12 sm=12 md=6>\n                  <b-row>\n                    <b-col cols=6 sm=3 md=2 lg=2>\n                      <h6>Ime</h6>\n                      {{ jobApp.firstName }}\n                    </b-col>\n                    <b-col cols=6 sm=3 md=4 lg=2>\n                      <h6>Priimek</h6>\n                      {{ jobApp.lastName }}\n                    </b-col>\n                    <b-col cols=12 sm=6 md=6 lg=8>\n                      <h6>Naslov</h6>\n                      {{ jobApp.address }}\n                    </b-col>\n                  </b-row>\n                  <hr>\n                  <b-row>\n                    <b-col cols=12>\n                      <h6 class=\"inline\">Oceni vlogo:</h6>\n                      <span class=\"stars\">\n                        <font-awesome-icon v-for=\"n in 5\" v-bind:key=\"n\"\n                          :icon=\"['fas', 'star']\"\n                          class=\"star-icon\"\n                          :class=\"colorClass(jobApp, n)\"\n                          v-on:click=\"setScore(jobApp, n)\" />\n                      </span>\n                    </b-col>\n                  </b-row>\n                </b-col>\n\n                <b-col cols=12 sm=12 md=6>\n                  <b-row>\n                    <b-col>\n                      <h6>Opis</h6>\n                      {{ jobApp.content }}\n                    </b-col>\n                  </b-row>\n                </b-col>\n              </b-row>\n            </div>\n          </div>\n\n          <b-pagination\n            class=\"pagination-controls\"\n            v-model=\"currentPage\"\n            :total-rows=\"rows\"\n            :per-page=\"perPage\"\n            aria-controls=\"applications-list\"\n            size=\"sm\"\n            align=\"right\"\n          ></b-pagination>\n        </div>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\n  import Store from \"../../store\"\n  export default {\n    name: \"Admin\",\n    data() {\n      return {\n        perPage: 5,\n        currentPage: 1,\n        jobApplications: []\n      }\n    },\n    created() {\n      this.checkUserSession();\n      this.jobApplications = Store.get(\"jobApplications\") || []\n    },\n    computed: {\n      rows() {\n        return this.jobApplications.length\n      },\n      currentPageJobApplications() {\n        return this.jobApplications.slice(\n          this.perPage * (this.currentPage - 1),\n          this.perPage * (this.currentPage)\n        )\n      }\n    },\n    methods: {\n      checkUserSession() {\n        const user = localStorage.currentUser ? JSON.parse(localStorage.currentUser) : null;\n        if (user) {\n          const now = new Date().getTime();\n          const lastLoggedIn = user.lastLoggedIn;\n          const loginExpired = now - lastLoggedIn > 24*60*60*1000;\n          if (!loginExpired) { return; }\n          localStorage.removeItem(\"currentUser\");\n        }\n        this.$router.push(\"login\");\n      },\n      setScore(jobApplication, starNumber) {\n        jobApplication.score = starNumber;\n        Store.put(\"jobApplications\", jobApplication);\n      },\n      colorClass(jobApplication, starNumber) {\n        if (jobApplication.score && jobApplication.score >= starNumber)\n        {\n          return \"full\";\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  hr {\n    border: none;\n    border-bottom: 1px solid lightgray;\n    box-shadow: 0 0 1px 1px #eaeaea;\n  }\n\n  .inline {\n    display: inline;\n  }\n\n  .content {\n    background-color: white;\n    padding: 50px;\n    text-align: left;\n  }\n\n  .application-entry {\n    margin: 20px auto;\n    padding: 20px;\n    border: 1px solid lightgray;\n    border-radius: 5px;\n    background-color: #fafafa;\n    background-clip: padding-box;\n    box-shadow: 0 0 3px 3px #eaeaea;\n  }\n\n  .stars {\n    margin-left: 16px;\n  }\n\n  .star-icon {\n    color: lightgray;\n    cursor: pointer;\n    margin: 0 3px;\n  }\n\n  .full {\n    color: gold;\n  }\n</style>"],"sourceRoot":"src/components/Admin"}]}