{"remainingRequest":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kat/Desktop/hekatin/mojedelo/moje-delo/src/components/Admin/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/src/components/Admin/Login.vue","mtime":1586097460406},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kat/Desktop/hekatin/mojedelo/moje-delo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgfSwKICAgICAgZm9ybUludmFsaWQ6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgdXNlciA9IGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlciAmJiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jdXJyZW50VXNlcik7CiAgICBpZiAodXNlciAmJiB1c2VyLmlzQWRtaW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goImFkbWluIik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbihzdGF0ZT0iZmFsc2UiKSB7CiAgICAgIGlmKHRoaXMuZm9ybS51c2VybmFtZSA9PSAiIiB8fCB0aGlzLmZvcm0ucGFzc3dvcmQgPT0gIiIpIHsKICAgICAgICB0aGlzLmZvcm1JbnZhbGlkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCB1c2VyID0ge2lzQWRtaW46IHN0YXRlLCBsYXN0TG9nZ2VkSW46IG5ldyBEYXRlKCkuZ2V0VGltZSgpfTsKICAgICAgICBsb2NhbFN0b3JhZ2UuY3VycmVudFVzZXIgPSBKU09OLnN0cmluZ2lmeSh1c2VyKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiYWRtaW4iKTsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/Admin","sourcesContent":["<template>\n  <div>\n    <b-row class=\"justify-content-center\" align-v=\"center\">\n      <b-col cols=\"10\" sm=\"6\" lg=\"4\">\n        <div class=\"content\">\n          <h4>PRIJAVA</h4>\n          <p>Vnesite uporabniško ime in geslo.</p>\n\n          <b-form @submit=\"login(true)\">\n            <b-form-group>\n              <b-form-input\n                class=\"input-field\"\n                id=\"username\"\n                v-model=\"form.username\"\n                type=\"text\"\n                placeholder=\"Uporabniško ime\"\n              ></b-form-input>\n            </b-form-group>\n\n            <b-form-group>\n              <b-form-input\n                class=\"input-field\"\n                id=\"password\"\n                v-model=\"form.password\"\n                type=\"password\"\n                placeholder=\"Geslo\"\n              ></b-form-input>\n            </b-form-group>\n\n            <b-alert variant=\"danger\" :show=\"formInvalid\">\n              Za prijavo morate vnesti uporabniško ime in geslo.\n            </b-alert>\n\n            <b-button type=\"submit\" variant=\"primary\">PRIJAVA</b-button>\n          </b-form>\n        </div>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"Login\",\n    data() {\n      return {\n        form: {\n          username: \"\",\n          password: \"\",\n        },\n        formInvalid: false\n      }\n    },\n    created() {\n      const user = localStorage.currentUser && JSON.parse(localStorage.currentUser);\n      if (user && user.isAdmin) {\n        this.$router.push(\"admin\");\n      }\n    },\n    methods: {\n      login(state=\"false\") {\n        if(this.form.username == \"\" || this.form.password == \"\") {\n          this.formInvalid = true;\n        } else {\n          const user = {isAdmin: state, lastLoggedIn: new Date().getTime()};\n          localStorage.currentUser = JSON.stringify(user);\n          this.$router.push(\"admin\");\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .content {\n    background-color: white;\n    padding: 50px;\n  }\n</style>\n"]}]}